# docker

**主要的目的：**为了保持生产和开发环境的一致性，防止当程序移植到开发环境时的繁琐和版本不一致带来的错误。

**操作流程：**

1. 如果是标准化的镜像，不用写自定义的dockerfile。如果是类似nodejs运行环境，包含定制化的node_modules等，需要写dockerfile。【dockerfile就像菜单一样告诉docker如何来构建你的镜像】
2. 使用手动build或者当镜像很多的时候我们使用docker-compose.yaml文件来指定所有镜像，如果是build，就在里面指定build，如果是标准化的，直接使用image，类似于一个完整的总指挥文件。
3. 当我们使用docker-compose up --build的时候，会首先构建自定义的镜像，然后拉取官方镜像，最后会被分别打包到不同的容器中并运行。
4. 运行之后，不同的容器有各自的端口号并映射到外部的端口号，在dockerfile中的cmd会开启他们的服务，使他们在各自的端口上进行监听。我们通过外部映射的端口号来访问他们。

【细节待补充：手写dockerfile，完成整个操作流程】